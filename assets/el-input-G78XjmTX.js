import{Z as Re,bi as Xe,ai as de,ah as Ye,c as m,bj as Ze,N as Ve,y as A,bg as ee,F as te,a2 as Je,i as Ee,b as Qe,aR as qe,d as ie,U as re,a as Be,aT as Ge,s as et,u as Ce,J as M,B as tt,E as at,o as h,e as T,M as g,Q as le,n as x,j as a,r as Q,h as $,m as F,w as K,O as q,p as ue,f as nt,P as ot,aE as st,t as G,k as it,X as Te,l as rt}from"./index-Cp609-2P.js";import{b as lt,i as ke,p as ut,M as ct,a0 as fe,N as dt,a8 as ft,l as pt,a5 as vt,a9 as mt,ag as ht,ah as gt,s as yt,v as bt,I as ze,u as xt,j as U,L as wt,_ as St}from"./el-button-BQFdgVeV.js";const It=()=>Re&&/firefox/i.test(window.navigator.userAgent);var Et=/\s/;function Ct(t){for(var o=t.length;o--&&Et.test(t.charAt(o)););return o}var Tt=/^\s+/;function kt(t){return t&&t.slice(0,Ct(t)+1).replace(Tt,"")}var Fe=NaN,zt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Nt=/^0o[0-7]+$/i,Pt=parseInt;function Ne(t){if(typeof t=="number")return t;if(Xe(t))return Fe;if(de(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=de(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=kt(t);var i=Ft.test(t);return i||Nt.test(t)?Pt(t.slice(2),i?2:8):zt.test(t)?Fe:+t}var ce=function(){return Ye.Date.now()},Rt="Expected a function",Vt=Math.max,Bt=Math.min;function ta(t,o,i){var n,u,d,c,p,f,b=0,w=!1,s=!1,k=!0;if(typeof t!="function")throw new TypeError(Rt);o=Ne(o)||0,de(i)&&(w=!!i.leading,s="maxWait"in i,d=s?Vt(Ne(i.maxWait)||0,o):d,k="trailing"in i?!!i.trailing:k);function B(v){var S=n,E=u;return n=u=void 0,b=v,c=t.apply(E,S),c}function N(v){return b=v,p=setTimeout(z,o),w?B(v):c}function r(v){var S=v-f,E=v-b,_=o-S;return s?Bt(_,d-E):_}function O(v){var S=v-f,E=v-b;return f===void 0||S>=o||S<0||s&&E>=d}function z(){var v=ce();if(O(v))return I(v);p=setTimeout(z,r(v))}function I(v){return p=void 0,k&&n?B(v):(n=u=void 0,c)}function H(){p!==void 0&&clearTimeout(p),b=0,n=f=u=p=void 0}function V(){return p===void 0?c:I(ce())}function P(){var v=ce(),S=O(v);if(n=arguments,u=this,f=v,S){if(p===void 0)return N(f);if(s)return clearTimeout(p),p=setTimeout(z,o),B(f)}return p===void 0&&(p=setTimeout(z,o)),c}return P.cancel=H,P.flush=V,P}const Lt=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Mt=["class","style"],$t=/^on[A-Z]/,At=(t={})=>{const{excludeListeners:o=!1,excludeKeys:i}=t,n=m(()=>((i==null?void 0:i.value)||[]).concat(Mt)),u=Ve();return u?m(()=>{var d;return Ze(Object.entries((d=u.proxy)==null?void 0:d.$attrs).filter(([c])=>!n.value.includes(c)&&!(o&&$t.test(c))))}):m(()=>({}))};function Ot(t){const o=A();function i(){if(t.value==null)return;const{selectionStart:u,selectionEnd:d,value:c}=t.value;if(u==null||d==null)return;const p=c.slice(0,Math.max(0,u)),f=c.slice(Math.max(0,d));o.value={selectionStart:u,selectionEnd:d,value:c,beforeTxt:p,afterTxt:f}}function n(){if(t.value==null||o.value==null)return;const{value:u}=t.value,{beforeTxt:d,afterTxt:c,selectionStart:p}=o.value;if(d==null||c==null||p==null)return;let f=u.length;if(u.endsWith(c))f=u.length-c.length;else if(u.startsWith(d))f=d.length;else{const b=d[p-1],w=u.indexOf(b,p-1);w!==-1&&(f=w+1)}t.value.setSelectionRange(f,f)}return[i,n]}function Ht(t,{afterFocus:o,beforeBlur:i,afterBlur:n}={}){const u=Ve(),{emit:d}=u,c=ee(),p=A(!1),f=s=>{p.value||(p.value=!0,d("focus",s),o==null||o())},b=s=>{var k;Je(i)&&i(s)||s.relatedTarget&&((k=c.value)!=null&&k.contains(s.relatedTarget))||(p.value=!1,d("blur",s),n==null||n())},w=()=>{var s;(s=t.value)==null||s.focus()};return te(c,s=>{s&&s.setAttribute("tabindex","-1")}),lt(c,"click",w),{wrapperRef:c,isFocused:p,handleFocus:f,handleBlur:b}}let C;const Dt=`
  height:0 !important;
  visibility:hidden !important;
  ${It()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Wt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function jt(t){const o=window.getComputedStyle(t),i=o.getPropertyValue("box-sizing"),n=Number.parseFloat(o.getPropertyValue("padding-bottom"))+Number.parseFloat(o.getPropertyValue("padding-top")),u=Number.parseFloat(o.getPropertyValue("border-bottom-width"))+Number.parseFloat(o.getPropertyValue("border-top-width"));return{contextStyle:Wt.map(c=>`${c}:${o.getPropertyValue(c)}`).join(";"),paddingSize:n,borderSize:u,boxSizing:i}}function Pe(t,o=1,i){var n;C||(C=document.createElement("textarea"),document.body.appendChild(C));const{paddingSize:u,borderSize:d,boxSizing:c,contextStyle:p}=jt(t);C.setAttribute("style",`${p};${Dt}`),C.value=t.value||t.placeholder||"";let f=C.scrollHeight;const b={};c==="border-box"?f=f+d:c==="content-box"&&(f=f-u),C.value="";const w=C.scrollHeight-u;if(Ee(o)){let s=w*o;c==="border-box"&&(s=s+u+d),f=Math.max(s,f),b.minHeight=`${s}px`}if(Ee(i)){let s=w*i;c==="border-box"&&(s=s+u+d),f=Math.min(s,f)}return b.height=`${f}px`,(n=C.parentNode)==null||n.removeChild(C),C=void 0,b}const Kt=Qe({id:{type:String,default:void 0},size:qe,disabled:Boolean,modelValue:{type:ie([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ie([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ke},prefixIcon:{type:ke},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ie([Object,Array,String]),default:()=>ut({})},autofocus:{type:Boolean,default:!1},...ct(["ariaLabel"])}),Ut={[fe]:t=>re(t),input:t=>re(t),change:t=>re(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},_t=["role"],Xt=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Yt=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Zt=Be({name:"ElInput",inheritAttrs:!1}),Jt=Be({...Zt,props:Kt,emits:Ut,setup(t,{expose:o,emit:i}){const n=t,u=Ge(),d=et(),c=m(()=>{const e={};return n.containerRole==="combobox"&&(e["aria-haspopup"]=u["aria-haspopup"],e["aria-owns"]=u["aria-owns"],e["aria-expanded"]=u["aria-expanded"]),e}),p=m(()=>[n.type==="textarea"?O.b():r.b(),r.m(B.value),r.is("disabled",N.value),r.is("exceed",$e.value),{[r.b("group")]:d.prepend||d.append,[r.bm("group","append")]:d.append,[r.bm("group","prepend")]:d.prepend,[r.m("prefix")]:d.prefix||n.prefixIcon,[r.m("suffix")]:d.suffix||n.suffixIcon||n.clearable||n.showPassword,[r.bm("suffix","password-clear")]:Z.value&&ne.value,[r.b("hidden")]:n.type==="hidden"},u.class]),f=m(()=>[r.e("wrapper"),r.is("focus",ae.value)]),b=At({excludeKeys:m(()=>Object.keys(c.value))}),{form:w,formItem:s}=dt(),{inputId:k}=ft(n,{formItemContext:s}),B=pt(),N=vt(),r=Ce("input"),O=Ce("textarea"),z=ee(),I=ee(),H=A(!1),V=A(!1),P=A(!1),v=A(),S=ee(n.inputStyle),E=m(()=>z.value||I.value),{wrapperRef:_,isFocused:ae,handleFocus:X,handleBlur:Y}=Ht(E,{afterBlur(){var e;n.validateEvent&&((e=s==null?void 0:s.validate)==null||e.call(s,"blur").catch(l=>ze()))}}),pe=m(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),D=m(()=>(s==null?void 0:s.validateState)||""),ve=m(()=>D.value&&mt[D.value]),Le=m(()=>P.value?ht:gt),Me=m(()=>[u.style]),me=m(()=>[n.inputStyle,S.value,{resize:n.resize}]),R=m(()=>yt(n.modelValue)?"":String(n.modelValue)),Z=m(()=>n.clearable&&!N.value&&!n.readonly&&!!R.value&&(ae.value||H.value)),ne=m(()=>n.showPassword&&!N.value&&!n.readonly&&!!R.value&&(!!R.value||ae.value)),L=m(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!N.value&&!n.readonly&&!n.showPassword),oe=m(()=>R.value.length),$e=m(()=>!!L.value&&oe.value>Number(n.maxlength)),Ae=m(()=>!!d.suffix||!!n.suffixIcon||Z.value||n.showPassword||L.value||!!D.value&&pe.value),[Oe,He]=Ot(z);bt(I,e=>{if(De(),!L.value||n.resize!=="both")return;const l=e[0],{width:y}=l.contentRect;v.value={right:`calc(100% - ${y+15+6}px)`}});const W=()=>{const{type:e,autosize:l}=n;if(!(!Re||e!=="textarea"||!I.value))if(l){const y=Te(l)?l.minRows:void 0,J=Te(l)?l.maxRows:void 0,Ie=Pe(I.value,y,J);S.value={overflowY:"hidden",...Ie},M(()=>{I.value.offsetHeight,S.value=Ie})}else S.value={minHeight:Pe(I.value).minHeight}},De=(e=>{let l=!1;return()=>{var y;if(l||!n.autosize)return;((y=I.value)==null?void 0:y.offsetParent)===null||(e(),l=!0)}})(W),j=()=>{const e=E.value,l=n.formatter?n.formatter(R.value):R.value;!e||e.value===l||(e.value=l)},se=async e=>{Oe();let{value:l}=e.target;if(n.formatter&&(l=n.parser?n.parser(l):l),!V.value){if(l===R.value){j();return}i(fe,l),i("input",l),await M(),j(),He()}},he=e=>{i("change",e.target.value)},ge=e=>{i("compositionstart",e),V.value=!0},ye=e=>{var l;i("compositionupdate",e);const y=(l=e.target)==null?void 0:l.value,J=y[y.length-1]||"";V.value=!Lt(J)},be=e=>{i("compositionend",e),V.value&&(V.value=!1,se(e))},We=()=>{P.value=!P.value,xe()},xe=async()=>{var e;await M(),(e=E.value)==null||e.focus()},je=()=>{var e;return(e=E.value)==null?void 0:e.blur()},Ke=e=>{H.value=!1,i("mouseleave",e)},Ue=e=>{H.value=!0,i("mouseenter",e)},we=e=>{i("keydown",e)},_e=()=>{var e;(e=E.value)==null||e.select()},Se=()=>{i(fe,""),i("change",""),i("clear"),i("input","")};return te(()=>n.modelValue,()=>{var e;M(()=>W()),n.validateEvent&&((e=s==null?void 0:s.validate)==null||e.call(s,"change").catch(l=>ze()))}),te(R,()=>j()),te(()=>n.type,async()=>{await M(),j(),W()}),tt(()=>{!n.formatter&&n.parser,j(),M(W)}),xt({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},m(()=>!!n.label)),o({input:z,textarea:I,ref:E,textareaStyle:me,autosize:at(n,"autosize"),focus:xe,blur:je,select:_e,clear:Se,resizeTextarea:W}),(e,l)=>(h(),T("div",ue(a(c),{class:a(p),style:a(Me),role:e.containerRole,onMouseenter:Ue,onMouseleave:Ke}),[g(" input "),e.type!=="textarea"?(h(),T(le,{key:0},[g(" prepend slot "),e.$slots.prepend?(h(),T("div",{key:0,class:x(a(r).be("group","prepend"))},[Q(e.$slots,"prepend")],2)):g("v-if",!0),$("div",{ref_key:"wrapperRef",ref:_,class:x(a(f))},[g(" prefix slot "),e.$slots.prefix||e.prefixIcon?(h(),T("span",{key:0,class:x(a(r).e("prefix"))},[$("span",{class:x(a(r).e("prefix-inner"))},[Q(e.$slots,"prefix"),e.prefixIcon?(h(),F(a(U),{key:0,class:x(a(r).e("icon"))},{default:K(()=>[(h(),F(q(e.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),$("input",ue({id:a(k),ref_key:"input",ref:z,class:a(r).e("inner")},a(b),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?P.value?"text":"password":e.type,disabled:a(N),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:ge,onCompositionupdate:ye,onCompositionend:be,onInput:se,onFocus:l[0]||(l[0]=(...y)=>a(X)&&a(X)(...y)),onBlur:l[1]||(l[1]=(...y)=>a(Y)&&a(Y)(...y)),onChange:he,onKeydown:we}),null,16,Xt),g(" suffix slot "),a(Ae)?(h(),T("span",{key:1,class:x(a(r).e("suffix"))},[$("span",{class:x(a(r).e("suffix-inner"))},[!a(Z)||!a(ne)||!a(L)?(h(),T(le,{key:0},[Q(e.$slots,"suffix"),e.suffixIcon?(h(),F(a(U),{key:0,class:x(a(r).e("icon"))},{default:K(()=>[(h(),F(q(e.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),a(Z)?(h(),F(a(U),{key:1,class:x([a(r).e("icon"),a(r).e("clear")]),onMousedown:ot(a(st),["prevent"]),onClick:Se},{default:K(()=>[nt(a(wt))]),_:1},8,["class","onMousedown"])):g("v-if",!0),a(ne)?(h(),F(a(U),{key:2,class:x([a(r).e("icon"),a(r).e("password")]),onClick:We},{default:K(()=>[(h(),F(q(a(Le))))]),_:1},8,["class"])):g("v-if",!0),a(L)?(h(),T("span",{key:3,class:x(a(r).e("count"))},[$("span",{class:x(a(r).e("count-inner"))},G(a(oe))+" / "+G(e.maxlength),3)],2)):g("v-if",!0),a(D)&&a(ve)&&a(pe)?(h(),F(a(U),{key:4,class:x([a(r).e("icon"),a(r).e("validateIcon"),a(r).is("loading",a(D)==="validating")])},{default:K(()=>[(h(),F(q(a(ve))))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),e.$slots.append?(h(),T("div",{key:1,class:x(a(r).be("group","append"))},[Q(e.$slots,"append")],2)):g("v-if",!0)],64)):(h(),T(le,{key:1},[g(" textarea "),$("textarea",ue({id:a(k),ref_key:"textarea",ref:I,class:a(O).e("inner")},a(b),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:a(N),readonly:e.readonly,autocomplete:e.autocomplete,style:a(me),"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,onCompositionstart:ge,onCompositionupdate:ye,onCompositionend:be,onInput:se,onFocus:l[2]||(l[2]=(...y)=>a(X)&&a(X)(...y)),onBlur:l[3]||(l[3]=(...y)=>a(Y)&&a(Y)(...y)),onChange:he,onKeydown:we}),null,16,Yt),a(L)?(h(),T("span",{key:0,style:it(v.value),class:x(a(r).e("count"))},G(a(oe))+" / "+G(e.maxlength),7)):g("v-if",!0)],64))],16,_t))}});var Qt=St(Jt,[["__file","input.vue"]]);const aa=rt(Qt);export{aa as E,ta as d,Lt as i,Ht as u};
